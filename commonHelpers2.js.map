{"version":3,"file":"commonHelpers2.js","sources":["../src/js/firebase/db.js","../src/js/login-popup.js","../src/js/home.js"],"sourcesContent":["import { initializeApp } from 'firebase/app';\nimport { getDatabase, ref, set, get } from 'firebase/database';\nimport { firebaseConfig } from './firebaseConfig.js';\n\nconst app = initializeApp(firebaseConfig);\n\nconst db = getDatabase();\n\nexport const addData = data => {\n  set(ref(db, 'items/'), data);\n};\n\nexport const getData = data => {\n  return get(ref(db, 'items')).then(snapshot => {\n    if (snapshot.exists()) {\n      return snapshot.val();\n    } else {\n      throw new Error('No data available');\n    }\n  });\n};\n","import { logInUser } from './firebase/auth.js';\nimport { favCreator } from './favorites.js';\n\nfunction showLoginPopup() {\n  const logInLinkEl = document.getElementById('logInLink');\n  const logInButtonEl = document.getElementById('logInButton');\n  const loginPopupEl = document.querySelector('.js-login-popup-container');\n\n  logInLinkEl.addEventListener('click', showLoginPopup);\n  logInButtonEl.addEventListener('click', showLoginPopup);\n\n  loginPopupEl.classList.add('show');\n  document.body.classList.add('no-scroll');\n}\n\nconst loginPopupEl = document.querySelector('.js-login-popup-container');\nloginPopupEl.addEventListener('click', e => {\n  if (!e.target.classList.contains('js-popup-container')) return;\n  hideLoginPopup();\n});\n\nconst modalCloseBtnLoginEl = document.querySelector(\n  '.js-login-popup-container .modal-close-btn'\n);\nmodalCloseBtnLoginEl.addEventListener('click', hideLoginPopup);\n\nfunction hideLoginPopup() {\n  loginPopupEl.classList.remove('show');\n  document.body.classList.remove('no-scroll');\n}\n\n// the log in\nconst loginFormEl = document.querySelector('.popup-login-form');\nloginFormEl.addEventListener('submit', e => {\n  try {\n    e.preventDefault();\n    const { email, password } = Object.fromEntries(new FormData(e.target));\n    logInUser(email, password);\n    console.log('success inside');\n    // Після авторизації можна приховати попап:\n    hideLoginPopup();\n    favCreator();\n  } catch ({ message }) {\n    console.log(message);\n  }\n});\n\nexport { showLoginPopup, hideLoginPopup };\n","import { registrationUser } from './firebase/auth.js';\nimport { addData, getData } from './firebase/db.js';\nimport { showLoginPopup, hideLoginPopup } from './login-popup.js';\n\nimport '../assets/css/home.css';\nimport '../assets/css/popup_registation.css';\nimport '../assets/css/popup_login.css';\n\nconst btnRegEl = document.querySelector('#registrationButton');\nconst popupRegEl = document.querySelector('.js-popup-container');\nconst modalCloseBtnEl = document.querySelector('.modal-close-btn');\nconst formEl = document.querySelector('.popup-reg-form');\n\nconst logInButtonEl = document.getElementById('logInButton');\nlogInButtonEl.addEventListener('click', showLoginPopup);\n\nbtnRegEl.addEventListener('click', () => {\n  popupRegEl.classList.add('show');\n  document.body.classList.add('no-scroll');\n});\n\npopupRegEl.addEventListener('click', e => {\n  if (!e.target.classList.contains('js-popup-container')) return;\n  hideModal();\n});\n\nmodalCloseBtnEl.addEventListener('click', e => {\n  hideModal();\n});\n\nfunction hideModal() {\n  popupRegEl.classList.remove('show');\n  document.body.classList.remove('no-scroll');\n}\n\nformEl.addEventListener('submit', e => {\n  try {\n    e.preventDefault();\n    const { name, email, password } = Object.fromEntries(\n      new FormData(e.target)\n    );\n    registrationUser(email, password);\n    addData({ name, email, password });\n    hideModal();\n  } catch ({ message }) {\n    console.log(message);\n  }\n});\n\ngetData()\n  .then(r => {\n    console.log(Object.values(r));\n  })\n  .catch(e => {\n    console.log(e);\n  });\n\n// show favEl in case logged in on page opening\nimport { favCreator } from './favorites.js';\nfavCreator();\n"],"names":["initializeApp","firebaseConfig","db","getDatabase","addData","data","set","ref","getData","get","snapshot","showLoginPopup","logInLinkEl","logInButtonEl","loginPopupEl","hideLoginPopup","modalCloseBtnLoginEl","loginFormEl","email","password","logInUser","favCreator","message","btnRegEl","popupRegEl","modalCloseBtnEl","formEl","hideModal","name","registrationUser","r"],"mappings":"0LAIYA,EAAcC,CAAc,EAExC,MAAMC,EAAKC,EAAW,EAETC,EAAUC,GAAQ,CAC7BC,EAAIC,EAAIL,EAAI,QAAQ,EAAGG,CAAI,CAC7B,EAEaG,EAAUH,GACdI,EAAIF,EAAIL,EAAI,OAAO,CAAC,EAAE,KAAKQ,GAAY,CAC5C,GAAIA,EAAS,SACX,OAAOA,EAAS,MAEhB,MAAM,IAAI,MAAM,mBAAmB,CAEzC,CAAG,EChBH,SAASC,GAAiB,CACxB,MAAMC,EAAc,SAAS,eAAe,WAAW,EACjDC,EAAgB,SAAS,eAAe,aAAa,EACrDC,EAAe,SAAS,cAAc,2BAA2B,EAEvEF,EAAY,iBAAiB,QAASD,CAAc,EACpDE,EAAc,iBAAiB,QAASF,CAAc,EAEtDG,EAAa,UAAU,IAAI,MAAM,EACjC,SAAS,KAAK,UAAU,IAAI,WAAW,CACzC,CAEA,MAAMA,EAAe,SAAS,cAAc,2BAA2B,EACvEA,EAAa,iBAAiB,QAAS,GAAK,CACrC,EAAE,OAAO,UAAU,SAAS,oBAAoB,GACrDC,GACF,CAAC,EAED,MAAMC,EAAuB,SAAS,cACpC,4CACF,EACAA,EAAqB,iBAAiB,QAASD,CAAc,EAE7D,SAASA,GAAiB,CACxBD,EAAa,UAAU,OAAO,MAAM,EACpC,SAAS,KAAK,UAAU,OAAO,WAAW,CAC5C,CAGA,MAAMG,EAAc,SAAS,cAAc,mBAAmB,EAC9DA,EAAY,iBAAiB,SAAU,GAAK,CAC1C,GAAI,CACF,EAAE,eAAc,EAChB,KAAM,CAAE,MAAAC,EAAO,SAAAC,CAAQ,EAAK,OAAO,YAAY,IAAI,SAAS,EAAE,MAAM,CAAC,EACrEC,EAAUF,EAAOC,CAAQ,EACzB,QAAQ,IAAI,gBAAgB,EAE5BJ,IACAM,GACJ,OAAW,CAAE,QAAAC,GAAW,CACpB,QAAQ,IAAIA,CAAO,CACpB,CACH,CAAC,ECrCD,MAAMC,EAAW,SAAS,cAAc,qBAAqB,EACvDC,EAAa,SAAS,cAAc,qBAAqB,EACzDC,EAAkB,SAAS,cAAc,kBAAkB,EAC3DC,EAAS,SAAS,cAAc,iBAAiB,EAEjDb,EAAgB,SAAS,eAAe,aAAa,EAC3DA,EAAc,iBAAiB,QAASF,CAAc,EAEtDY,EAAS,iBAAiB,QAAS,IAAM,CACvCC,EAAW,UAAU,IAAI,MAAM,EAC/B,SAAS,KAAK,UAAU,IAAI,WAAW,CACzC,CAAC,EAEDA,EAAW,iBAAiB,QAAS,GAAK,CACnC,EAAE,OAAO,UAAU,SAAS,oBAAoB,GACrDG,GACF,CAAC,EAEDF,EAAgB,iBAAiB,QAAS,GAAK,CAC7CE,GACF,CAAC,EAED,SAASA,GAAY,CACnBH,EAAW,UAAU,OAAO,MAAM,EAClC,SAAS,KAAK,UAAU,OAAO,WAAW,CAC5C,CAEAE,EAAO,iBAAiB,SAAU,GAAK,CACrC,GAAI,CACF,EAAE,eAAc,EAChB,KAAM,CAAE,KAAAE,EAAM,MAAAV,EAAO,SAAAC,CAAU,EAAG,OAAO,YACvC,IAAI,SAAS,EAAE,MAAM,CAC3B,EACIU,EAAiBX,EAAOC,CAAQ,EAChCf,EAAQ,CAAE,KAAAwB,EAAM,MAAAV,EAAO,SAAAC,CAAU,CAAA,EACjCQ,GACJ,OAAW,CAAE,QAAAL,GAAW,CACpB,QAAQ,IAAIA,CAAO,CACpB,CACH,CAAC,EAEDd,EAAS,EACN,KAAKsB,GAAK,CACT,QAAQ,IAAI,OAAO,OAAOA,CAAC,CAAC,CAChC,CAAG,EACA,MAAM,GAAK,CACV,QAAQ,IAAI,CAAC,CACjB,CAAG,EAIHT,EAAY"}